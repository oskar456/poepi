<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>PoEpi by oskar456</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/main.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>

      <header>
        <h1>PoEpi</h1>
        <p>A multi-purpose shield for Raspberry Pi</p>
      </header>

      <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/oskar456/poepi" class="button fork"><strong>View On GitHub</strong></a>
        <div class="downloads">
          <span>Downloads:</span>
          <ul>
            <li><a href="https://github.com/oskar456/poepi/zipball/master" class="button">ZIP</a></li>
            <li><a href="https://github.com/oskar456/poepi/tarball/master" class="button">TAR</a></li>
          </ul>
        </div>
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <p>This is a peripheral board for <a href="http://www.raspberrypi.org">Raspberry Pi</a> with
three separate functions:</p>

<ul>
<li>Power supply with 12-40 Volt input and 5 Volt, 0.75 Amps output,
with short circuit protection and simple passive PoE extractor (utilizes unused
pairs in a Fast Ethernet UTP cable).</li>
<li>
<a href="http://en.wikipedia.org/wiki/1-Wire">1-Wire</a> controller
<a href="http://www.maximintegrated.com/datasheet/index.mvp/id/4382">DS2482-100</a>
connected to I2C bus of Raspberry Pi.</li>
<li>Real time clock module
<a href="http://www.nxp.com/products/interface_and_connectivity/i2c/rtcs_with_i2c_interface/series/PCF8583.html">PCF8583</a>
with backup battery.</li>
</ul><p>All schematics and board layouts are created using <a href="http://www.cadsoftusa.com">EAGLE 6.2.1 beta</a>.</p>

<h2>Power supply</h2>

<p>The key component of the board is a DC/DC power supply, allowing to power Raspberry Pi and its periprherals from distance, using unused pairs in a Fast Ethernet UTP cable. </p>

<blockquote>
<p><strong>WARNING:</strong> Only passive PoE extractor is used. This kind of extractor is <strong>NOT</strong> compliant with <a href="http://en.wikipedia.org/wiki/802.3af">IEEE 802.3af</a> and connecting UTP cable with power on unused pairs to standard NIC can cause severe damage to it.</p>
</blockquote>

<p><img src="images/PoEpi-supply.png" alt="PoEpi supply schematics"></p>

<p>The power supply design utilizes <a href="http://www.onsemi.com/PowerSolutions/product.do?id=MC34063A">MCP34063A</a> switched mode supply regulator in basic step-down mode. This regulator requires minimum other components for operation:</p>

<ul>
<li>The inductor L1 and diode D1, together with switch integrated in the IC forms a step-down converter.</li>
<li>Current sensing resistor R3 limits maximum available current to 0.75 Amps.</li>
<li>The R4/R5 divider adjust ouput voltage.</li>
<li>The D2 is a Zener diode with breakdows voltage 5,6 Volt. In case of failure of the integrated switch in IC2, which would result in uncontrollable growth of output voltage, the D2 break open and limit output voltage till the F1 fuse breaks itself.</li>
<li>The bridge B1 allow either polarity on the RJ-45 connector. Even alternating current can be supplied.</li>
</ul><h2>I2C level shifter</h2>

<p><img src="images/PoEpi-levelshifter.png" alt="PoEpi voltage level shifter"></p>

<p>The Rapsberry Pi operates with 3.3 Volt logic. Other components on PoEpi uses 5 Volt logic. Althought it is often possible to directly connect 3V3 I2C with 5V I2C bus, it is better to use a simple MOSFET-based level shifter. This one is based on <a href="http://ics.nxp.com/support/documents/interface/pdf/an97055.pdf">AN97055</a> by NXP. Please note that pull-up resistors on 3V3 side (on the left) are already included in the Raspberry Pi.</p>

<p>Using this level shifter also protects Raspberry Pi from being damaged by a high voltage spike from 5V side.</p>

<h2>1-Wire controller</h2>

<p><img src="images/PoEpi-1wire.png" alt="PoEpi 1-Wire controller"></p>

<p><a href="http://www.maximintegrated.com/datasheet/index.mvp/id/4382">DS2482-100</a> is a standalone 1-Wire master controller for I2C bus, supported in Linux. It could be used to connect various peripherals like thermometers, using quite long cables. It is connected to 5V I2C bus and the 1-Wire output is provided on a RJ-45 connector. The pinout of the connector is almost compatible with <a href="http://www.maximintegrated.com/datasheet/index.mvp/id/3834">DS9490R</a>, so most accessories for DS9490R can be plugged directly into this board. The only difference is 5V power, which is located on pin 6. </p>

<h2>Real time clock</h2>

<p><img src="images/PoEpi-rtc.png" alt="PoEpi 1-Wire controller"></p>

<p>The <a href="http://www.nxp.com/products/interface_and_connectivity/i2c/rtcs_with_i2c_interface/series/PCF8583.html">PCF8583</a> is also connected to 5V I2C bus. The clock is powered by 5 Volt supply when Raspberry Pi is powered on and by Lithium Cell CR2032 otherwise. It uses standard 32768 Hz clock crystal. The frequency can be fine-tuned by the value of the C4 capacitor.</p>

<h3>Copyright</h3>

<p>Copyright 2013 Ondřej Caletka<br>
This work is licensed under a <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported License</a>.<br><a href="http://creativecommons.org/licenses/by/3.0/"><img src="http://i.creativecommons.org/l/by/3.0/88x31.png" alt="Creative Commons License"></a></p>
      </section>
      <footer>
        <p>Project maintained by <a href="https://github.com/oskar456">oskar456</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="http://twitter.com/#!/michigangraham">mattgraham</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>